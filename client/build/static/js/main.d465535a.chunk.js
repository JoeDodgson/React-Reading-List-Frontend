(this["webpackJsonpreading-list"]=this["webpackJsonpreading-list"]||[]).push([[0],{53:function(e,a,t){e.exports=t(83)},58:function(e,a,t){},83:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(20),c=t.n(o),s=t(49),l=t(5),i=(t(58),t(4)),u=t.n(i),m=t(34),v=t(14),p=t(26),d=t(27),h=t(31),f=t(30),g=function(e){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("a",{className:"navbar-brand"},"Google Books",r.a.createElement("i",{className:"fas fa-book"})),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarText"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item ".concat("search"===e.active?"active":"")},r.a.createElement("a",{className:"nav-link",href:"/search"},"Search","search"===e.active?r.a.createElement("span",{className:"sr-only"},"(current)"):r.a.createElement(r.a.Fragment,null))),r.a.createElement("li",{className:"nav-item ".concat("saved"===e.active?"active":"")},r.a.createElement("a",{className:"nav-link",href:"/saved"},"Saved","saved"===e.active?r.a.createElement("span",{className:"sr-only"},"(current)"):r.a.createElement(r.a.Fragment,null))))))},b=function(){return r.a.createElement("div",{className:"header-container"},r.a.createElement("h1",null,"React Google Books Search"),r.a.createElement("p",{className:"header-tagline"},"An app to serve your reading requirements"))},k=t(18),E=t(85),B=function(e){Object(h.a)(t,e);var a=Object(f.a)(t);function t(){var e;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={search:""},e.handleInputChange=function(a){var t=a.target.value,n=a.target.name;e.setState(Object(k.a)({},n,t))},e.handleFormSubmit=function(a){a.preventDefault(),e.state.search||alert("Enter the name of a book"),e.setState({})},e}return Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row searchbar-container"},r.a.createElement("div",{className:"col-10",style:{margin:"0 auto"}},r.a.createElement("form",{className:"form"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-1"}),r.a.createElement("input",{className:"col-7",value:this.props.search,name:"search",onChange:this.props.handleInputChange,type:"text",placeholder:"Search for a book"}),r.a.createElement("div",{className:"col-1"}),r.a.createElement(E.a,{id:"search-button",className:"col-2",onClick:this.props.handleFormSubmit,variant:"contained",color:"primary"},"Submit"),r.a.createElement("div",{className:"col-1"})))))}}]),t}(n.Component),w=t(106),j=t(107),y=t(112),x=t(109),O=t(108),S=t(110),N=t(111),R=Object(w.a)((function(e){var a;return a={root:{width:"100%",display:"flex",marginBottom:"10px",textAlign:"center"},details:{width:"100%",display:"flex",flexDirection:"column"},content:{width:"100%",flex:"1 0 auto",paddingBottom:"0"},cover:{width:151}},Object(k.a)(a,"details",{width:"100%",display:"flex",alignItems:"center"}),Object(k.a)(a,"playIcon",{height:38,width:38}),a})),I=function(e){var a=R();Object(j.a)();return r.a.createElement(y.a,{className:a.root},r.a.createElement(O.a,{className:a.cover,image:e.image,title:e.title}),r.a.createElement("div",{className:a.details},r.a.createElement(x.a,{className:a.content},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-9"},r.a.createElement(S.a,{component:"h5",variant:"h5"},e.title),r.a.createElement(S.a,{variant:"subtitle1",color:"textSecondary"},e.authors)),r.a.createElement("div",{className:"col-3"},r.a.createElement(N.a,{disableElevation:!0,variant:"contained",color:"primary",infoLink:e.infoLink},r.a.createElement(E.a,{href:e.infoLink,target:"_blank"},"View"),"Search Results"==e.heading?r.a.createElement(E.a,{onClick:function(a){a.preventDefault(),e.addBook({id:e.id,title:e.title,authors:e.authors,description:e.description,image:e.image,infoLink:e.infoLink})}},"ADD"):r.a.createElement(E.a,{onClick:function(a){a.preventDefault(),e.removeBook(e.id)}},"REMOVE")))),r.a.createElement("div",{className:a.details},r.a.createElement("p",null,e.description)))))},A=function(e){return r.a.createElement("div",{className:"row books-container"},r.a.createElement("h3",null,e.heading),e.books.map((function(a){return r.a.createElement(I,{key:a.id,id:a.id,title:a.title,authors:a.authors,description:a.description,image:a.image,infoLink:a.infoLink,addBook:e.addBook,removeBook:e.removeBook,heading:e.heading})})))},F=t(19),C=t.n(F);t(48).config();var L={getBookById:function(){var e=Object(v.a)(u.a.mark((function e(a){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://www.googleapis.com/books/v1/volumes/".concat(a,"?key=").concat("AIzaSyA6Hu3cw4Ie_fjiKoUuamSqsAFfqi7pknQ"),e.prev=1,e.next=4,C.a.get(t);case 4:return n=e.sent,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(1),console.log("ERROR: googleBooksAPI.js - getBookById() - ".concat(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}(),getBookBySearch:function(){var e=Object(v.a)(u.a.mark((function e(a){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://www.googleapis.com/books/v1/volumes?q=intitle:".concat(a,"&key=").concat("AIzaSyA6Hu3cw4Ie_fjiKoUuamSqsAFfqi7pknQ"),e.prev=1,e.next=4,C.a.get(t);case 4:return n=e.sent,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(1),console.log("ERROR: googleBooksAPI.js - getBookBySearch() - ".concat(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}()};t(48).config();var D={getSavedBooks:function(){var e=Object(v.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("/api/books");case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),console.log("ERROR: savedBooksAPI.js - getSavedBooks() - ".concat(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),saveBook:function(){var e=Object(v.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.post("/api/books",a);case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log("ERROR: savedBooksAPI.js - saveBook() - ".concat(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}(),deleteBook:function(){var e=Object(v.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.delete("/api/books/"+a);case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log("ERROR: savedBooksAPI.js - deleteBook() - ".concat(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}()},T=function(e){Object(h.a)(t,e);var a=Object(f.a)(t);function t(){var e;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={search:"",books:[],error:""},e.handleInputChange=function(a){e.setState({search:a.target.value})},e.handleFormSubmit=function(){var a=Object(v.a)(u.a.mark((function a(t){var n,r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.prev=1,a.next=4,L.getBookBySearch(e.state.search);case 4:n=a.sent,r=[],n.data.items.length>0&&n.data.items.forEach((function(e){var a=e.id,t=e.volumeInfo.description||"Description not available",n=e.volumeInfo.infoLink||"https://books.google.com/",o=e.volumeInfo.title||"Title not available",c=e.volumeInfo.imageLinks||[],s={id:a,authors:e.volumeInfo.authors?e.volumeInfo.authors.join(", "):"Authors not available",description:t,image:c.smallThumbnail||c.thumbnail||c.largeThumbnail||"https://user-images.githubusercontent.com/101482/29592647-40da86ca-875a-11e7-8bc3-941700b0a323.png",infoLink:n,title:o};r.push(s)})),e.setState(Object(m.a)(Object(m.a)({},e.state),{},{books:r})),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),console.log("ERROR: Search.js - handleFormSubmit() - ".concat(a.t0));case 13:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}(),e.addBook=function(){var e=Object(v.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.saveBook(a);case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("ERROR: Search.js - addBook() - ".concat(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a){return e.apply(this,arguments)}}(),e}return Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,{active:"search"}),r.a.createElement(b,{title:"Results"}),r.a.createElement(B,{handleInputChange:this.handleInputChange,handleFormSubmit:this.handleFormSubmit}),r.a.createElement(A,{heading:"Search Results",search:this.state.search,books:this.state.books,addBook:this.addBook}))}}]),t}(n.Component),q=t(50),P=function(){var e=Object(n.useState)([]),a=Object(q.a)(e,2),t=a[0],o=a[1];Object(n.useEffect)((function(){c()}),[]);var c=function(){var e=Object(v.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.getSavedBooks();case 3:a=e.sent,o(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("ERROR: Saved.js - loadBooks() - ".concat(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(v.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.deleteBook(a);case 3:e.sent,window.location.reload(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("ERROR: Search.js - addBook() - ".concat(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,{active:"saved"}),r.a.createElement(b,{title:"Saved Books"}),r.a.createElement(A,{heading:"Saved Books",books:t,removeBook:s}))};var _=function(){return r.a.createElement(s.a,null,r.a.createElement(l.a,{path:"/search",component:T}),r.a.createElement(l.a,{exact:!0,path:"/saved",component:P}))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null)),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.d465535a.chunk.js.map